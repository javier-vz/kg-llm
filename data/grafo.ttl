@prefix :    <http://example.org/festividades#> .
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:<http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

#################################################################
### ONTOLOGÍA
### Una ontología define el vocabulario común:
### qué tipos de cosas existen y cómo se relacionan.
#################################################################

:OntologiaFestividades a owl:Ontology ;
  rdfs:label "Ontología esencial de festividades andinas"@es ;
  rdfs:comment "Ontología para describir festividades, eventos rituales, lugares, comunidades y recursos mediales asociados a Qoyllur Rit’i y la Virgen del Carmen."@es .

#################################################################
### GUÍA RÁPIDA PARA EL EQUIPO (LEER ANTES DE EDITAR)
### Este TTL es “esencial”: contiene lo mínimo profesional para
### (1) tener un grafo navegable y consistente, y (2) alimentar RAG.
###
### En este archivo verás:
### - CLASES: tipos generales (Festividad, Lugar, EventoRitual, etc.)
### - PROPIEDADES: relaciones (object properties) y datos simples (datatype)
### - INDIVIDUOS: cosas concretas del mundo real (Paucartambo, Colque Punku, etc.)
###
### Nota: rdfs:label y descripciones están en español (@es).
#################################################################

#################################################################
### ¿QUÉ ES UNA CLASE?
### Una clase (owl:Class) es un “tipo de cosa”.
### Ej: :Festividad, :Lugar, :EventoRitual, :Foto.
###
### ¿QUÉ ES UNA SUBCLASE?
### Una subclase (rdfs:subClassOf) hereda características del tipo “padre”.
### Ej: :Procesion rdfs:subClassOf :EventoRitual.
### Significa: “toda Procesión es un EventoRitual”.
#################################################################

#################################################################
### ¿QUÉ ES UN INDIVIDUO?
### Un individuo (owl:NamedIndividual o “a :Clase”) es una entidad concreta:
### Ej: :Paucartambo a :Localidad ;  :ColquePunku a :Glaciar ; etc.
###
### REGLA PRÁCTICA:
### - Clases: conceptos generales (tipos).
### - Individuos: instancias reales (cosas específicas del dominio).
#################################################################

#################################################################
### REGLAS DE MODELADO (MUY IMPORTANTES)
###
### 1) EVENTO vs TIEMPO (NO CONFUNDIR)
### - :EventoRitual = “algo que pasa” (acción/actividad) y suele poder ubicarse.
###   Ej: “Bajada desde Colque Punku”, “Entrada de Naciones”, “Procesión principal”.
###
### - :TiempoRitual / :SegmentoRitual = “cuándo” (franja temporal significativa).
###   Ej: “Alba”, “Noche”, “Víspera”, “Día central”.
###
### RELACIONES CORRECTAS:
### - Un EventoRitual se conecta a un Lugar con :estaEnLugar.
### - Un EventoRitual puede (si aplica) conectarse a un Tiempo con :ocurreDurante.
###
### ANTI-PATRÓN (EVITAR):
### - No usar :ocurreDurante para decir “la festividad ocurre durante el alba”.
###   La festividad contiene muchos eventos y tiempos; el “alba” es de eventos,
###   no del concepto completo de festividad.
###
### 2) FESTIVIDAD: DÓNDE SE CELEBRA
### - La Festividad se conecta a Lugar(es) con :SeCelebraEn.
###   Ej: Virgen del Carmen -> Paucartambo + Iglesia.
###       Qoyllur Rit’i -> Sinakara + Santuario.
###
### 3) RECURSO MEDIAL (FOTO/VIDEO/AUDIO/DOC)
### - Un recurso “documenta” algo con :documentaA (evento, lugar o festividad).
### - Debe tener código estable (:codigoRecurso) y ruta/url (:rutaArchivo).
### - Debe tener fecha de captura si se conoce (:fechaCaptura).
#################################################################

#################################################################
### CONVENCIONES DE NOMBRES (CONGELADAS)
###
### 1) Clases (Tipos)
### - PascalCase, sin tildes ni espacios:
###   :Festividad, :EventoRitual, :EntidadVenerada, :RecursoMedial, :DocumentoTexto
###
### 2) Propiedades
### - camelCase, verbos claros:
###   :SeCelebraEn, :incluyeEvento, :estaEnLugar, :ocurreDurante, :documentaA
###
### 3) Individuos (Entidades reales)
### - PascalCase o NombreConGuionesBajos si es necesario, sin tildes:
###   :Paucartambo, :Sinakara, :ColquePunku, :IglesiaPaucartambo
###
### 4) Recursos mediales (IDs + código)
### - IRI del individuo: usar prefijo + tipo + año + correlativo con guiones bajos:
###   :QOY_FOTO_2025_001, :PAU_AUD_2024_003, :QOY_VID_2023_002
###
### - Código humano-legible (annotation):
###   :codigoRecurso "QOY-FOTO-2025-001" .
###
### FORMATO DEL CÓDIGO:
###   {FEST}-{TIPO}-{AÑO}-{NRO}
###   FEST: QOY (Qoyllur Rit’i), PAU (Paucartambo)
###   TIPO: FOTO, VID, AUD, DOC
###   NRO: 001, 002, 003...
###
### 5) Nombres consistentes (IMPORTANTE)
### - No mezclar :seCelebraEn con :SeCelebraEn.
### - En este TTL la propiedad oficial es :SeCelebraEn (S mayúscula).
#################################################################

#################################################################
### QUÉ EDITAR / QUÉ NO EDITAR (PARA EVITAR CAOS)
###
### SE EDITA (equipo de anotación):
### - rdfs:label (obligatorio)
### - :descripcionBreve (obligatorio en entidades principales)
### - :descripcionEtnografica (obligatorio en Nivel A)
### - :fuenteTexto (obligatorio en Nivel A)
### - :codigoRecurso, :rutaArchivo, :fechaCaptura (en recursos)
### - relaciones entre individuos (documentaA, incluyeEvento, SeCelebraEn, etc.)
### - geo:lat / geo:long en lugares (cuando haya dato)
###
### SE EDITA CON CUIDADO (equipo técnico):
### - definiciones de clases
### - domain/range de propiedades
### - creación de nuevas propiedades
###
### NO SE EDITA SIN ACUERDO DEL EQUIPO (congelado):
### - nombres de propiedades ya usadas (rompe scripts y consistencia)
### - el patrón de códigos de recursos
### - el significado de A/B/C en :nivelEmbeddings
#################################################################

#################################################################
### DEFINITION OF DONE (DoD) POR NIVEL A/B/C
###
### OBJETIVO:
### - Nivel A: siempre entra a embeddings y al RAG con texto de calidad.
### - Nivel B: útil para contexto; puede entrar a embeddings si aporta.
### - Nivel C: estructura/técnico; NO debe generar embeddings ni aparecer en respuestas.
###
### NIVEL A (CENTRAL)
### “Si pregunto en lenguaje natural, debería salir en la respuesta”.
### Ejemplos: Festividades, Entidades veneradas, lugares centrales, eventos clave,
### recursos mediales importantes, personajes rituales clave.
###
### DoD mínimo (obligatorio):
### - rdfs:label
### - :descripcionBreve
### - :descripcionEtnografica
### - :fuenteTexto
### - relaciones clave (según el tipo)
###   * Festividad: :SeCelebraEn (+ ideal :incluyeEvento)
###   * EventoRitual: :estaEnLugar (+ opcional :ocurreDurante)
###   * Lugar: (si aplica) geo:lat geo:long
###   * RecursoMedial: :codigoRecurso :rutaArchivo :fechaCaptura :documentaA
###
### NIVEL B (CONTEXTUAL)
### “Enriquece, pero rara vez es protagonista”.
### Ejemplos: comunidades, comparsas específicas, lugares de paso, eventos secundarios.
###
### DoD mínimo:
### - rdfs:label
### - :descripcionBreve
### - al menos 1 relación hacia un nodo A (para no quedar huérfano)
### Opcional:
### - :descripcionEtnografica si hay buen material
###
### ⚪ NIVEL C (ESTRUCTURAL / TÉCNICO)
### “Ordena el grafo, pero no quiero que el LLM hable de esto”.
### Ejemplos: clases, nodos puente técnicos, tiempos genéricos sin contenido.
###
### DoD mínimo:
### - rdfs:label
### Opcional:
### - rdfs:comment técnico
###
### REGLA:
### - Nivel C NO genera embeddings.
#################################################################


#################################################################
### PROPIEDADES DE ANOTACIÓN
### Sirven SOLO para texto descriptivo.
### Estas propiedades alimentan los embeddings del RAG.
#################################################################

:descripcionBreve a owl:AnnotationProperty ;
  rdfs:label "Descripción breve"@es ;
  rdfs:comment "Definición corta (1–2 frases). Obligatoria para entidades principales."@es .

:descripcionEtnografica a owl:AnnotationProperty ;
  rdfs:label "Descripción etnográfica"@es ;
  rdfs:comment "Descripción ampliada (3–6 frases). Obligatoria para Nivel A."@es .

:fuenteTexto a owl:AnnotationProperty ;
  rdfs:label "Fuente del texto"@es ;
  rdfs:comment "Origen del texto: campo, archivo, entrevista, documento, etc."@es .

:nivelEmbeddings a owl:AnnotationProperty ;
  rdfs:label "Nivel de embeddings"@es ;
  rdfs:comment "Clasificación para embeddings y RAG: A = entidades centrales (si faltan, el sistema no entiende el dominio); B = entidades contextuales (aportan contexto, pero no son protagonistas); C = entidades estructurales o técnicas (ordenan el grafo y no deben aparecer en respuestas ni generar embeddings)."@es .


:codigoRecurso a owl:AnnotationProperty ;
  rdfs:label "Código de recurso"@es ;
  rdfs:comment "Identificador estable para fotos, videos, audios y documentos."@es .

:rutaArchivo a owl:AnnotationProperty ;
  rdfs:label "Ruta de archivo"@es ;
  rdfs:comment "Ruta local o URL donde se encuentra el recurso."@es .

#################################################################
### (NUEVO) PROPIEDADES DE DATOS
### Valores simples (fechas, números).
#################################################################

:fechaCaptura a owl:DatatypeProperty ;
  rdfs:domain :RecursoMedial ;
  rdfs:range xsd:date ;
  rdfs:label "fecha de captura"@es ;
  rdfs:comment "Fecha (ISO) en que se capturó el recurso. Ej: 2025-06-17."@es .

#################################################################
### CLASES
### Una clase define un tipo general de entidad.
### Ejemplo: Festividad, Lugar, EventoRitual.
#################################################################

:Festividad a owl:Class ;
  rdfs:label "Festividad"@es ;
  rdfs:comment "Celebración ritual de carácter anual o periódico."@es .

:EventoRitual a owl:Class ;
  rdfs:label "Evento ritual"@es ;
  rdfs:comment "Actividad concreta que ocurre dentro de una festividad."@es .

:Danza a owl:Class ;
  rdfs:label "Danza ritual"@es ;
  rdfs:comment "Práctica ritual codificada (coreografía, vestimenta, música y roles) que se ejecuta dentro de una festividad. No es un evento puntual: puede aparecer en varios eventos y años."@es .

:PersonajeRitual a owl:Class ;
  rdfs:label "Personaje ritual"@es ;
  rdfs:comment "Figura simbólica o rol ritual asociado a una danza o comparsa (p. ej., Ukuku, Qhapaq Qolla). Puede modelarse como individuo o como clase, según el nivel de detalle."@es .

:Procesion a owl:Class ;
  rdfs:subClassOf :EventoRitual ;
  rdfs:label "Procesión"@es ;
  rdfs:comment "Evento ritual de desplazamiento colectivo."@es .

:TiempoRitual a owl:Class ;
  rdfs:label "Tiempo ritual"@es ;
  rdfs:comment "Categoría temporal significativa en el ritual."@es .

:SegmentoRitual a owl:Class ;
  rdfs:subClassOf :TiempoRitual ;
  rdfs:label "Segmento ritual"@es ;
  rdfs:comment "Franja temporal concreta (ej. alba, noche, víspera). Usar con cuidado: no es lo mismo que un evento."@es .

:Comunidad a owl:Class ;
  rdfs:label "Comunidad"@es ;
  rdfs:comment "Colectivo social vinculado a una festividad."@es .

:Lugar a owl:Class ;
  rdfs:label "Lugar"@es ;
  rdfs:comment "Espacio geográfico o construido."@es .

:Localidad a owl:Class ;
  rdfs:subClassOf :Lugar ;
  rdfs:label "Localidad"@es .

:Santuario a owl:Class ;
  rdfs:subClassOf :Lugar ;
  rdfs:label "Santuario"@es .

:Iglesia a owl:Class ;
  rdfs:subClassOf :Lugar ;
  rdfs:label "Iglesia"@es .

:LugarDePaso a owl:Class ;
  rdfs:subClassOf :Lugar ;
  rdfs:label "Lugar de paso"@es .

### (NUEVO) Subtipo útil para precisión (opcional)
:Glaciar a owl:Class ;
  rdfs:subClassOf :Lugar ;
  rdfs:label "Glaciar"@es ;
  rdfs:comment "Lugar natural de hielo (p. ej. Colque Punku)."@es .

:EntidadVenerada a owl:Class ;
  rdfs:label "Entidad venerada"@es ;
  rdfs:comment "Figura sagrada central de una festividad."@es .

:RecursoMedial a owl:Class ;
  rdfs:label "Recurso medial"@es ;
  rdfs:comment "Material audiovisual o textual que documenta la festividad."@es .

:Foto a owl:Class ; rdfs:subClassOf :RecursoMedial .
:Video a owl:Class ; rdfs:subClassOf :RecursoMedial .
:Audio a owl:Class ; rdfs:subClassOf :RecursoMedial .
:DocumentoTexto a owl:Class ; rdfs:subClassOf :RecursoMedial .

#################################################################
### PROPIEDADES DE OBJETO
### Definen relaciones entre entidades.
#################################################################

:SeCelebraEn a owl:ObjectProperty ;
  rdfs:domain :Festividad ;
  rdfs:range :Lugar ;
  rdfs:label "se celebra en"@es .

:incluyeEvento a owl:ObjectProperty ;
  rdfs:domain :Festividad ;
  rdfs:range :EventoRitual ;
  rdfs:label "incluye evento"@es .

:seInterpretaEnFestividad a owl:ObjectProperty ;
  rdfs:domain :Danza ;
  rdfs:range :Festividad ;
  rdfs:label "se interpreta en festividad"@es ;
  rdfs:comment "Relaciona una danza con la(s) festividad(es) donde se interpreta."@es .

:seEjecutaDurante a owl:ObjectProperty ;
  rdfs:domain :Danza ;
  rdfs:range :EventoRitual ;
  rdfs:label "se ejecuta durante"@es ;
  rdfs:comment "Relaciona una danza con un evento ritual concreto (p. ej. bajada del glaciar, entrada, procesión)."@es .

:incluyePersonaje a owl:ObjectProperty ;
  rdfs:domain :Danza ;
  rdfs:range :PersonajeRitual ;
  rdfs:label "incluye personaje"@es ;
  rdfs:comment "Indica que una danza involucra uno o más personajes rituales."@es .

:ocurreDurante a owl:ObjectProperty ;
  rdfs:domain :EventoRitual ;
  rdfs:range :TiempoRitual ;
  rdfs:label "ocurre durante"@es .

:estaEnLugar a owl:ObjectProperty ;
  rdfs:domain :EventoRitual ;
  rdfs:range :Lugar ;
  rdfs:label "está en lugar"@es .

:relacionadoCon a owl:ObjectProperty ;
  rdfs:domain :Comunidad ;
  rdfs:range :Festividad ;
  rdfs:label "relacionado con"@es .

:tieneRecursoMedial a owl:ObjectProperty ;
  rdfs:domain :Festividad ;
  rdfs:range :RecursoMedial ;
  rdfs:label "tiene recurso medial"@es .

:documentaA a owl:ObjectProperty ;
  rdfs:domain :RecursoMedial ;
  rdfs:range owl:Thing ;
  rdfs:label "documenta a"@es .

#################################################################
### INDIVIDUOS
### Un individuo es una entidad concreta del mundo real.
#################################################################

### Lugares

:Paucartambo a :Localidad ;
  rdfs:label "Paucartambo"@es ;
  :descripcionBreve "Localidad cusqueña donde se celebra la festividad de la Virgen del Carmen."@es ;
  :nivelEmbeddings "A" ;
  geo:lat "-13.3140"^^xsd:decimal ;
  geo:long "-71.5940"^^xsd:decimal ;
  rdfs:comment "Coordenadas aproximadas. Ajustar con fuente oficial si se requiere precisión."@es .

:Sinakara a :Lugar ;
  rdfs:label "Sinakara"@es ;
  :descripcionBreve "Zona ritual de alta montaña asociada a Qoyllur Rit’i."@es ;
  :nivelEmbeddings "A" ;
  rdfs:comment "COMPLETAR: lat/long si se desea georreferenciación."@es .

### (NUEVO) Lugar clave para precisión etnográfica
:ColquePunku a :Glaciar ;
  rdfs:label "Colque Punku"@es ;
  :descripcionBreve "Glaciar asociado a la peregrinación de Qoyllur Rit’i en el área ritual de Sinakara."@es ;
  :nivelEmbeddings "A" ;
  rdfs:comment "COMPLETAR: lat/long con referencia (GPS/carta/fuente)."@es .

:SantuarioQoylluriti a :Santuario ;
  rdfs:label "Santuario del Señor de Qoyllur Rit’i"@es ;
  :descripcionBreve "Santuario principal de la peregrinación de Qoyllur Rit’i."@es ;
  :nivelEmbeddings "A" ;
  rdfs:comment "COMPLETAR: lat/long si aplica."@es .

:IglesiaPaucartambo a :Iglesia ;
  rdfs:label "Iglesia de Paucartambo"@es ;
  :descripcionBreve "Templo central de la festividad de la Virgen del Carmen."@es ;
  :nivelEmbeddings "A" ;
  geo:lat "-13.3140"^^xsd:decimal ;
  geo:long "-71.5940"^^xsd:decimal ;
  rdfs:comment "Coordenadas aproximadas (mismo centro urbano). Ajustar si se desea precisión del edificio."@es .

### Entidades veneradas

:SenorDeQoyllurRiti a :EntidadVenerada ;
  rdfs:label "Señor de Qoyllur Rit’i"@es ;
  :descripcionBreve "Entidad sagrada central de la peregrinación andina."@es ;
  :nivelEmbeddings "A" .

:VirgenDelCarmen a :EntidadVenerada ;
  rdfs:label "Virgen del Carmen"@es ;
  :descripcionBreve "Imagen mariana venerada en Paucartambo."@es ;
  :nivelEmbeddings "A" .

### Festividades

:FestividadQoylluriti a :Festividad ;
  rdfs:label "Festividad del Señor de Qoyllur Rit’i"@es ;
  :descripcionBreve "Peregrinación andina al santuario del Señor de Qoyllur Rit’i."@es ;
  :nivelEmbeddings "A" ;
  :SeCelebraEn :SantuarioQoylluriti ;
  :SeCelebraEn :Sinakara .

:FestividadVirgenCarmenPaucartambo a :Festividad ;
  rdfs:label "Festividad de la Virgen del Carmen de Paucartambo"@es ;
  :descripcionBreve "Fiesta patronal de Paucartambo dedicada a la Virgen del Carmen."@es ;
  :nivelEmbeddings "A" ;
  :SeCelebraEn :Paucartambo ;
  :SeCelebraEn :IglesiaPaucartambo .

### Comunidad

:ComunidadPaucartambo a :Comunidad ;
  rdfs:label "Comunidad de Paucartambo"@es ;
  :descripcionBreve "Colectivo local vinculado a la organización de la festividad."@es ;
  :nivelEmbeddings "A" ;
  :relacionadoCon :FestividadVirgenCarmenPaucartambo ;
  :relacionadoCon :FestividadQoylluriti .

### Personas o danzas

:Ukuku a :PersonajeRitual ;
  rdfs:label "Ukuku"@es ;
  :descripcionBreve "Personaje ritual andino asociado a funciones de vigilancia, mediación y orden durante Qoyllur Rit’i."@es ;
  :descripcionEtnografica "COMPLETAR: descripción narrativa (3–6 frases) basada en fuentes o experiencia de campo, sin inventar."@es ;
  :fuenteTexto "COMPLETAR: fuente (campo, entrevista, texto, etc.)."@es ;
  :nivelEmbeddings "A" .

:DanzaUkuku a :Danza ;
  rdfs:label "Danza del Ukuku"@es ;
  :descripcionBreve "Danza ritual asociada al personaje Ukuku, interpretada en el marco de la festividad de Qoyllur Rit’i."@es ;
  :descripcionEtnografica "COMPLETAR: descripción ampliada (3–6 frases) sobre su rol y ejecución en el contexto ritual."@es ;
  :fuenteTexto "COMPLETAR: fuente (campo, entrevista, texto, etc.)."@es ;
  :nivelEmbeddings "A" ;
  :seInterpretaEnFestividad :FestividadQoylluriti ;
  :incluyePersonaje :Ukuku .

#################################################################
### (NUEVO) EJEMPLO DE EVENTO RITUAL COHERENTE
### Un evento NO es un segmento temporal.
### Aquí modelamos “Bajada del glaciar” como EventoRitual,
### y lo ubicamos en Colque Punku / Sinakara.
#################################################################

:BajadaColquePunku_2025 a :EventoRitual ;
  rdfs:label "Bajada desde el glaciar Colque Punku (2025)"@es ;
  :descripcionBreve "Descenso desde el glaciar Colque Punku en el marco de Qoyllur Rit’i."@es ;
  :nivelEmbeddings "B" ;
  :estaEnLugar :ColquePunku ;
  rdfs:comment "Si luego quieres describir 'alba/noche', usa :ocurreDurante con un SegmentoRitual bien definido, pero no lo fuerces si no aplica."@es .

:FestividadQoylluriti :incluyeEvento :BajadaColquePunku_2025 .

#################################################################
### (NUEVO) EJEMPLO DE RECURSO MEDIAL (FOTO)
### Incluye código estable + ruta + fecha + relación documental.
#################################################################

:QOY_FOTO_2025_001 a :Foto ;
  rdfs:label "Foto: Bajada desde Colque Punku (17 junio 2025)"@es ;
  :codigoRecurso "QOY-FOTO-2025-001" ;
  :rutaArchivo "resources/qoylluriti/fotos/QOY-FOTO-2025-001.jpg" ;
  :fechaCaptura "2025-06-17"^^xsd:date ;
  :descripcionBreve "Fotografía del descenso desde el glaciar Colque Punku en Sinakara durante Qoyllur Rit’i, con participantes de distintas naciones."@es ;
  :descripcionEtnografica "COMPLETAR: descripción ampliada (3–6 frases) con vocabulario narrativo, sin inventar, indicando lo visible en la imagen."@es ;
  :fuenteTexto "Registro fotográfico propio, 17/06/2025."@es ;
  :nivelEmbeddings "A" ;
  :documentaA :BajadaColquePunku_2025 .

:FestividadQoylluriti :tieneRecursoMedial :QOY_FOTO_2025_001 .

#################################################################
### CÓMO EXTENDER ESTE TTL (PATRONES)
### 1) Agregar un nuevo lugar:
###    :NuevoLugar a :Lugar ; rdfs:label ... ; geo:lat ... ; geo:long ... ; :descripcionBreve ... .
###
### 2) Agregar un evento:
###    :EventoX a :EventoRitual ; :estaEnLugar :LugarY ; y conectar:
###    :FestividadZ :incluyeEvento :EventoX .
###
### 3) Agregar un recurso:
###    :CODIGO ... a :Foto/:Video/:Audio/:DocumentoTexto ;
###      :codigoRecurso "..."; :rutaArchivo "..."; :fechaCaptura "...";
###      :documentaA :EventoX (o :FestividadZ, o :LugarY) ;
###      :descripcionBreve ... ; (Nivel A => :descripcionEtnografica + :fuenteTexto).
#################################################################
